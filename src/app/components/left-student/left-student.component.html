<div class="container-fluid">
  <div class="row">
    <div class="col"><h4 class="lh-56">Left Students</h4></div>
    <div class="col align-r">
      <mat-form-field>
        <mat-label>Search</mat-label>
        <input matInput (keyup)="filter($event.target.value)" />
      </mat-form-field>
    </div>
  </div>
  <div class="row">
    <div class="col">
      <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource" matSort class="full-width">
          <ng-container matColumnDef="username">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Student username
            </th>
            <td mat-cell *matCellDef="let element">
              {{ element.username }}
            </td>
            <td mat-footer-cell *matFooterCellDef>No Record Found</td>
          </ng-container>

          <ng-container matColumnDef="session">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Session</th>
            <td mat-cell *matCellDef="let element">
              {{ element.sessionMonth }} - {{ element.sessionYear }}
            </td>
            <td mat-footer-cell *matFooterCellDef></td>
          </ng-container>

          <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Student Name
            </th>
            <td mat-cell *matCellDef="let element">
              {{ element.studentName }}
            </td>
            <td mat-footer-cell *matFooterCellDef></td>
          </ng-container>

          <ng-container matColumnDef="father">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Father's Name
            </th>
            <td mat-cell *matCellDef="let element">{{ element.fatherName }}</td>
            <td mat-footer-cell *matFooterCellDef></td>
          </ng-container>

          <ng-container matColumnDef="mobile">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Mobile</th>
            <td mat-cell *matCellDef="let element">{{ element.mobile }}</td>
            <td mat-footer-cell *matFooterCellDef></td>
          </ng-container>

          <ng-container matColumnDef="std">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>Class</th>
            <td mat-cell *matCellDef="let element">
              {{ std.doGet(element.std)?.class_name }}
            </td>
            <td mat-footer-cell *matFooterCellDef></td>
          </ng-container>

          <ng-container matColumnDef="feeStatus">
            <th mat-header-cell *matHeaderCellDef mat-sort-header>
              Fee Status
            </th>
            <td mat-cell *matCellDef="let element">
              {{ checkFeeStatus(element) }}
            </td>
            <td mat-footer-cell *matFooterCellDef></td>
          </ng-container>

          <!-- Action Column -->
          <ng-container matColumnDef="actions">
            <th mat-header-cell *matHeaderCellDef>Action</th>
            <td mat-footer-cell *matFooterCellDef></td>
            <td mat-cell *matCellDef="let element">
              <button
                mat-icon-button
                (click)="openDialog('view', element)"
                matTooltip="View {{ element.studentName }}"
              >
                <mat-icon>visibility_rounded</mat-icon>
              </button>
              <button
                (click)="openDialog('create', element)"
                mat-icon-button
                color="primary"
                matTooltip="Re-Admit {{ element.studentName }}"
              >
                <mat-icon>person_add_rounded</mat-icon>
              </button>
              <button
                (click)="openDialog('delete', element)"
                mat-icon-button
                color="warn"
                matTooltip="Delete {{ element.studentName }}"
              >
                <mat-icon>delete_rounded</mat-icon>
              </button>
            </td>
          </ng-container>

          <tr
            mat-header-row
            *matHeaderRowDef="displayedColumns; sticky: true"
          ></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
          <tr
            mat-footer-row
            *matFooterRowDef="displayedColumns"
            [hidden]="dataSource && dataSource.data.length > 0"
          ></tr>
        </table>

        <mat-paginator
          [pageSize]="10"
          [pageSizeOptions]="[5, 10, 20]"
          showFirstLastButtons
        ></mat-paginator>
      </div>
    </div>
  </div>
</div>
